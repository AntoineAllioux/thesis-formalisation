<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>FundamentalThm</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--rewriting</a> <a id="37" class="Symbol">#-}</a>

<a id="42" class="Keyword">open</a> <a id="47" class="Keyword">import</a> <a id="54" href="HoTT.html" class="Module">HoTT</a>
<a id="59" class="Keyword">open</a> <a id="64" class="Keyword">import</a> <a id="71" href="lib.NType2.html" class="Module">lib.NType2</a>

<a id="83" class="Keyword">module</a> <a id="90" href="FundamentalThm.html" class="Module">FundamentalThm</a> <a id="105" class="Keyword">where</a>

  <a id="114" class="Comment">-- The fundamental theorem of HoTT</a>

  <a id="152" class="Keyword">module</a> <a id="159" href="FundamentalThm.html#159" class="Module">_</a> <a id="161" class="Symbol">{</a><a id="162" href="FundamentalThm.html#162" class="Bound">i</a><a id="163" class="Symbol">}</a> <a id="165" class="Symbol">(</a><a id="166" href="FundamentalThm.html#166" class="Bound">A</a> <a id="168" class="Symbol">:</a> <a id="170" href="lib.Base.html#1144" class="Function">Type</a> <a id="175" href="FundamentalThm.html#162" class="Bound">i</a><a id="176" class="Symbol">)</a> <a id="178" class="Symbol">(</a><a id="179" href="FundamentalThm.html#179" class="Bound">P</a> <a id="181" class="Symbol">:</a> <a id="183" href="FundamentalThm.html#166" class="Bound">A</a> <a id="185" class="Symbol">→</a> <a id="187" href="lib.Base.html#1144" class="Function">Type</a> <a id="192" href="FundamentalThm.html#162" class="Bound">i</a><a id="193" class="Symbol">)</a> <a id="195" class="Symbol">(</a><a id="196" href="FundamentalThm.html#196" class="Bound">is-c</a> <a id="201" class="Symbol">:</a> <a id="203" href="lib.NType.html#1069" class="Function">is-contr</a> <a id="212" class="Symbol">(</a><a id="213" href="lib.Base.html#5401" class="Record">Σ</a> <a id="215" href="FundamentalThm.html#166" class="Bound">A</a> <a id="217" href="FundamentalThm.html#179" class="Bound">P</a><a id="218" class="Symbol">))</a> <a id="221" class="Symbol">(</a><a id="222" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="225" class="Symbol">:</a> <a id="227" href="FundamentalThm.html#166" class="Bound">A</a><a id="228" class="Symbol">)</a> <a id="230" class="Symbol">(</a><a id="231" href="FundamentalThm.html#231" class="Bound">r</a> <a id="233" class="Symbol">:</a> <a id="235" href="FundamentalThm.html#179" class="Bound">P</a> <a id="237" href="FundamentalThm.html#222" class="Bound">a₀</a><a id="239" class="Symbol">)</a> <a id="241" class="Keyword">where</a>

    <a id="252" href="FundamentalThm.html#252" class="Function">ft-to</a> <a id="258" class="Symbol">:</a> <a id="260" class="Symbol">(</a><a id="261" href="FundamentalThm.html#261" class="Bound">a₁</a> <a id="264" class="Symbol">:</a> <a id="266" href="FundamentalThm.html#166" class="Bound">A</a><a id="267" class="Symbol">)</a> <a id="269" class="Symbol">→</a> <a id="271" href="FundamentalThm.html#179" class="Bound">P</a> <a id="273" href="FundamentalThm.html#261" class="Bound">a₁</a> <a id="276" class="Symbol">→</a> <a id="278" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="281" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="284" href="FundamentalThm.html#261" class="Bound">a₁</a>
    <a id="291" href="FundamentalThm.html#252" class="Function">ft-to</a> <a id="297" href="FundamentalThm.html#297" class="Bound">a₁</a> <a id="300" href="FundamentalThm.html#300" class="Bound">p</a> <a id="302" class="Symbol">=</a> <a id="304" href="lib.types.Sigma.html#2120" class="Function">fst=</a> <a id="309" class="Symbol">(</a><a id="310" href="lib.NType.html#3601" class="Function">contr-has-all-paths</a> <a id="330" class="Symbol">⦃</a> <a id="332" href="FundamentalThm.html#196" class="Bound">is-c</a> <a id="337" class="Symbol">⦄</a> <a id="339" class="Symbol">(</a><a id="340" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="343" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="345" href="FundamentalThm.html#231" class="Bound">r</a><a id="346" class="Symbol">)</a> <a id="348" class="Symbol">(</a><a id="349" href="FundamentalThm.html#297" class="Bound">a₁</a> <a id="352" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="354" href="FundamentalThm.html#300" class="Bound">p</a><a id="355" class="Symbol">))</a>

    <a id="363" href="FundamentalThm.html#363" class="Function">ft-to-β</a> <a id="371" class="Symbol">:</a> <a id="373" href="FundamentalThm.html#252" class="Function">ft-to</a> <a id="379" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="382" href="FundamentalThm.html#231" class="Bound">r</a> <a id="384" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="387" href="lib.Base.html#2004" class="InductiveConstructor">idp</a>
    <a id="395" href="FundamentalThm.html#363" class="Function">ft-to-β</a> <a id="403" class="Symbol">=</a> <a id="405" href="lib.Base.html#4034" class="Function">ap</a> <a id="408" href="lib.types.Sigma.html#2120" class="Function">fst=</a> <a id="413" href="FundamentalThm.html#430" class="Function">nh</a> 

      <a id="424" class="Keyword">where</a> <a id="430" href="FundamentalThm.html#430" class="Function">nh</a> <a id="433" class="Symbol">:</a> <a id="435" href="lib.NType.html#3601" class="Function">contr-has-all-paths</a> <a id="455" class="Symbol">⦃</a> <a id="457" href="FundamentalThm.html#196" class="Bound">is-c</a> <a id="462" class="Symbol">⦄</a> <a id="464" class="Symbol">(</a><a id="465" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="468" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="470" href="FundamentalThm.html#231" class="Bound">r</a><a id="471" class="Symbol">)</a> <a id="473" class="Symbol">(</a><a id="474" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="477" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="479" href="FundamentalThm.html#231" class="Bound">r</a><a id="480" class="Symbol">)</a> <a id="482" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="485" href="lib.Base.html#2004" class="InductiveConstructor">idp</a>
            <a id="501" href="FundamentalThm.html#430" class="Function">nh</a> <a id="504" class="Symbol">=</a> <a id="506" href="lib.NType.html#3601" class="Function">contr-has-all-paths</a> <a id="526" class="Symbol">⦃</a> <a id="528" href="lib.NType.html#5114" class="Function">=-preserves-contr</a> <a id="546" class="Symbol">{</a><a id="547" class="Argument">x</a> <a id="549" class="Symbol">=</a> <a id="551" class="Symbol">(</a><a id="552" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="555" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="557" href="FundamentalThm.html#231" class="Bound">r</a><a id="558" class="Symbol">)}</a> <a id="561" class="Symbol">{</a><a id="562" class="Argument">y</a> <a id="564" class="Symbol">=</a> <a id="566" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="569" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="571" href="FundamentalThm.html#231" class="Bound">r</a><a id="572" class="Symbol">}</a> <a id="574" href="FundamentalThm.html#196" class="Bound">is-c</a> <a id="579" class="Symbol">⦄</a>
                      <a id="603" class="Symbol">(</a><a id="604" href="lib.NType.html#3601" class="Function">contr-has-all-paths</a> <a id="624" class="Symbol">⦃</a> <a id="626" href="FundamentalThm.html#196" class="Bound">is-c</a> <a id="631" class="Symbol">⦄</a> <a id="633" class="Symbol">(</a><a id="634" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="637" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="639" href="FundamentalThm.html#231" class="Bound">r</a><a id="640" class="Symbol">)</a> <a id="642" class="Symbol">(</a><a id="643" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="646" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="648" href="FundamentalThm.html#231" class="Bound">r</a><a id="649" class="Symbol">))</a> <a id="652" href="lib.Base.html#2004" class="InductiveConstructor">idp</a>

    <a id="661" href="FundamentalThm.html#661" class="Function">ft-from</a> <a id="669" class="Symbol">:</a> <a id="671" class="Symbol">(</a><a id="672" href="FundamentalThm.html#672" class="Bound">a₁</a> <a id="675" class="Symbol">:</a> <a id="677" href="FundamentalThm.html#166" class="Bound">A</a><a id="678" class="Symbol">)</a> <a id="680" class="Symbol">→</a> <a id="682" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="685" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="688" href="FundamentalThm.html#672" class="Bound">a₁</a> <a id="691" class="Symbol">→</a> <a id="693" href="FundamentalThm.html#179" class="Bound">P</a> <a id="695" href="FundamentalThm.html#672" class="Bound">a₁</a>
    <a id="702" href="FundamentalThm.html#661" class="Function">ft-from</a> <a id="710" href="FundamentalThm.html#710" class="Bound">a₁</a> <a id="713" href="FundamentalThm.html#713" class="Bound">p</a> <a id="715" class="Symbol">=</a> <a id="717" href="lib.Base.html#4928" class="Function">transport</a> <a id="727" href="FundamentalThm.html#179" class="Bound">P</a> <a id="729" href="FundamentalThm.html#713" class="Bound">p</a> <a id="731" href="FundamentalThm.html#231" class="Bound">r</a>

    <a id="738" href="FundamentalThm.html#738" class="Function">ft-to-from</a> <a id="749" class="Symbol">:</a> <a id="751" class="Symbol">(</a><a id="752" href="FundamentalThm.html#752" class="Bound">a₁</a> <a id="755" class="Symbol">:</a> <a id="757" href="FundamentalThm.html#166" class="Bound">A</a><a id="758" class="Symbol">)</a> <a id="760" class="Symbol">(</a><a id="761" href="FundamentalThm.html#761" class="Bound">p</a> <a id="763" class="Symbol">:</a> <a id="765" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="768" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="771" href="FundamentalThm.html#752" class="Bound">a₁</a><a id="773" class="Symbol">)</a> <a id="775" class="Symbol">→</a> <a id="777" href="FundamentalThm.html#252" class="Function">ft-to</a> <a id="783" href="FundamentalThm.html#752" class="Bound">a₁</a> <a id="786" class="Symbol">(</a><a id="787" href="FundamentalThm.html#661" class="Function">ft-from</a> <a id="795" href="FundamentalThm.html#752" class="Bound">a₁</a> <a id="798" href="FundamentalThm.html#761" class="Bound">p</a><a id="799" class="Symbol">)</a> <a id="801" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="804" href="FundamentalThm.html#761" class="Bound">p</a>
    <a id="810" href="FundamentalThm.html#738" class="Function">ft-to-from</a> <a id="821" href="FundamentalThm.html#821" class="Bound">a₁</a> <a id="824" href="lib.Base.html#2004" class="InductiveConstructor">idp</a> <a id="828" class="Symbol">=</a> <a id="830" href="FundamentalThm.html#363" class="Function">ft-to-β</a> 

    <a id="844" href="FundamentalThm.html#844" class="Function">ft-from-to</a> <a id="855" class="Symbol">:</a> <a id="857" class="Symbol">(</a><a id="858" href="FundamentalThm.html#858" class="Bound">a₁</a> <a id="861" class="Symbol">:</a> <a id="863" href="FundamentalThm.html#166" class="Bound">A</a><a id="864" class="Symbol">)</a> <a id="866" class="Symbol">(</a><a id="867" href="FundamentalThm.html#867" class="Bound">p</a> <a id="869" class="Symbol">:</a> <a id="871" href="FundamentalThm.html#179" class="Bound">P</a> <a id="873" href="FundamentalThm.html#858" class="Bound">a₁</a><a id="875" class="Symbol">)</a> <a id="877" class="Symbol">→</a> <a id="879" href="FundamentalThm.html#661" class="Function">ft-from</a> <a id="887" href="FundamentalThm.html#858" class="Bound">a₁</a> <a id="890" class="Symbol">(</a><a id="891" href="FundamentalThm.html#252" class="Function">ft-to</a> <a id="897" href="FundamentalThm.html#858" class="Bound">a₁</a> <a id="900" href="FundamentalThm.html#867" class="Bound">p</a><a id="901" class="Symbol">)</a> <a id="903" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="906" href="FundamentalThm.html#867" class="Bound">p</a>
    <a id="912" href="FundamentalThm.html#844" class="Function">ft-from-to</a> <a id="923" href="FundamentalThm.html#923" class="Bound">a₁</a> <a id="926" href="FundamentalThm.html#926" class="Bound">p</a> <a id="928" class="Symbol">=</a> <a id="930" href="lib.PathOver.html#9824" class="Function">to-transp</a> <a id="940" class="Symbol">(</a><a id="941" href="lib.types.Sigma.html#2204" class="Function">snd=</a> <a id="946" class="Symbol">(</a><a id="947" href="lib.NType.html#3601" class="Function">contr-has-all-paths</a> <a id="967" class="Symbol">⦃</a> <a id="969" href="FundamentalThm.html#196" class="Bound">is-c</a> <a id="974" class="Symbol">⦄</a> <a id="976" class="Symbol">(</a><a id="977" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="980" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="982" href="FundamentalThm.html#231" class="Bound">r</a><a id="983" class="Symbol">)</a> <a id="985" class="Symbol">(</a><a id="986" href="FundamentalThm.html#923" class="Bound">a₁</a> <a id="989" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="991" href="FundamentalThm.html#926" class="Bound">p</a><a id="992" class="Symbol">)))</a> 

    <a id="1002" href="FundamentalThm.html#1002" class="Function">fundamental-thm</a> <a id="1018" class="Symbol">:</a> <a id="1020" class="Symbol">(</a><a id="1021" href="FundamentalThm.html#1021" class="Bound">a₁</a> <a id="1024" class="Symbol">:</a> <a id="1026" href="FundamentalThm.html#166" class="Bound">A</a><a id="1027" class="Symbol">)</a> <a id="1029" class="Symbol">→</a> <a id="1031" href="FundamentalThm.html#179" class="Bound">P</a> <a id="1033" href="FundamentalThm.html#1021" class="Bound">a₁</a> <a id="1036" href="lib.Equivalence.html#4492" class="Function Operator">≃</a> <a id="1038" class="Symbol">(</a><a id="1039" href="FundamentalThm.html#222" class="Bound">a₀</a> <a id="1042" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="1045" href="FundamentalThm.html#1021" class="Bound">a₁</a><a id="1047" class="Symbol">)</a>
    <a id="1053" href="FundamentalThm.html#1002" class="Function">fundamental-thm</a> <a id="1069" href="FundamentalThm.html#1069" class="Bound">a₁</a> <a id="1072" class="Symbol">=</a> <a id="1074" href="lib.Equivalence.html#4643" class="Function">equiv</a> <a id="1080" class="Symbol">(</a><a id="1081" href="FundamentalThm.html#252" class="Function">ft-to</a> <a id="1087" href="FundamentalThm.html#1069" class="Bound">a₁</a><a id="1089" class="Symbol">)</a> <a id="1091" class="Symbol">(</a><a id="1092" href="FundamentalThm.html#661" class="Function">ft-from</a> <a id="1100" href="FundamentalThm.html#1069" class="Bound">a₁</a><a id="1102" class="Symbol">)</a> <a id="1104" class="Symbol">(</a><a id="1105" href="FundamentalThm.html#738" class="Function">ft-to-from</a> <a id="1116" href="FundamentalThm.html#1069" class="Bound">a₁</a><a id="1118" class="Symbol">)</a> <a id="1120" class="Symbol">(</a><a id="1121" href="FundamentalThm.html#844" class="Function">ft-from-to</a> <a id="1132" href="FundamentalThm.html#1069" class="Bound">a₁</a><a id="1134" class="Symbol">)</a>

    <a id="1141" href="FundamentalThm.html#1141" class="Function">fundamental-thm-β</a> <a id="1159" class="Symbol">:</a> <a id="1161" href="lib.Equivalence.html#4804" class="Function">–&gt;</a> <a id="1164" class="Symbol">(</a><a id="1165" href="FundamentalThm.html#1002" class="Function">fundamental-thm</a> <a id="1181" href="FundamentalThm.html#222" class="Bound">a₀</a><a id="1183" class="Symbol">)</a> <a id="1185" href="FundamentalThm.html#231" class="Bound">r</a> <a id="1187" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="1190" href="lib.Base.html#2004" class="InductiveConstructor">idp</a>
    <a id="1198" href="FundamentalThm.html#1141" class="Function">fundamental-thm-β</a> <a id="1216" class="Symbol">=</a> <a id="1218" href="FundamentalThm.html#363" class="Function">ft-to-β</a>

<a id="1227" class="Comment">{-
  module Foo {i} (A : Type i) (P₀ : A → Type i) (P₁ : A → Type i) (is-c₀ : is-contr (Σ A P₀)) (is-c₁ : is-contr (Σ A P₁))
                 (a : A) (p₀ : P₀ a) (p₁ : P₁ a) where

    foo : ∀ {i} (A : Set i) (B : A → Set i) (is-c : is-contr (Σ A B))
      → {x y : A} (p : x == y)
      → (u : B x) (v : B y) → transport B p u == v
    foo A B is-c {x} {y} p u v =
      let yo = contr-has-all-paths ⦃ is-c ⦄ (x , u) (y , v)
      in to-transp {B = B} {p = p} {u} {v} {!!}

    ft-to : (a₁ : A) → P₀ a₁ → P₁ a₁
    ft-to a₁ p = transport P₁ (fst= (contr-has-all-paths ⦃ is-c₀ ⦄ (a , p₀) (a₁ , p))) p₁ 
{-
    ft-to-β : ft-to a₀ r == idp
    ft-to-β = ap fst= nh 

      where nh : contr-has-all-paths ⦃ is-c ⦄ (a₀ , r) (a₀ , r) == idp
            nh = contr-has-all-paths ⦃ =-preserves-contr {x = (a₀ , r)} {y = a₀ , r} is-c ⦄
                      (contr-has-all-paths ⦃ is-c ⦄ (a₀ , r) (a₀ , r)) idp
-}
    ft-from : (a₁ : A) → P₁ a₁ → P₀ a₁
    ft-from a₁ p = transport P₀ (fst= (contr-has-all-paths ⦃ is-c₁ ⦄ (a , p₁) (a₁ , p))) p₀ 

    ft-to-from : (a₁ : A) (p : P₁ a₁) → ft-to a₁ (ft-from a₁ p) == p
    ft-to-from a₁ p = foo A P₁ is-c₁ (fst= (contr-has-all-paths ⦃ is-c₀ ⦄ (a , p₀) (a₁ , transport P₀ (fst= (contr-has-all-paths ⦃ is-c₁ ⦄ (a , p₁) (a₁ , p))) p₀))) p₁ p 
{-
    ft-from-to : (a₁ : A) (p : P a₁) → ft-from a₁ (ft-to a₁ p) == p
    ft-from-to a₁ p = to-transp (snd= (contr-has-all-paths ⦃ is-c ⦄ (a₀ , r) (a₁ , p))) 

    fundamental-thm : (a₁ : A) → P a₁ ≃ (a₀ == a₁)
    fundamental-thm a₁ = equiv (ft-to a₁) (ft-from a₁) (ft-to-from a₁) (ft-from-to a₁)

    fundamental-thm-β : –&gt; (fundamental-thm a₀) r == idp
    fundamental-thm-β = ft-to-β
-}

-}</a>
  <a id="2904" class="Comment">-- module _ {i} (A : Type i) where</a>
  
  <a id="2944" class="Comment">--   fibrant-reflexive-rel :  Type (lsucc i)</a>
  <a id="2991" class="Comment">--   fibrant-reflexive-rel =</a>
  <a id="3022" class="Comment">--     Σ (A → A → Type i) (λ Q →</a>
  <a id="3057" class="Comment">--     Σ ((a : A) → Q a a) (λ ρ →</a>
  <a id="3093" class="Comment">--     (a₀ : A) → is-contr (Σ A (λ a₁ → Q a₀ a₁))))</a>

  <a id="3148" class="Comment">--   id-rel : fibrant-reflexive-rel</a>
  <a id="3186" class="Comment">--   id-rel = _==_ , (λ a → idp {a = a}) , pathfrom-is-contr </a>

  <a id="3251" class="Comment">--   id-rel-unique : (Q : fibrant-reflexive-rel) → Q == id-rel</a>
  <a id="3316" class="Comment">--   id-rel-unique (Q , ρ , is-fib)  = pair= step1 (↓-Σ-in {!!} (prop-has-all-paths-↓ ⦃ Π-level (λ a → is-contr-is-prop) ⦄ )) </a>

  <a id="3446" class="Comment">--     where step1 : Q == _==_</a>
  <a id="3479" class="Comment">--           step1 = λ= (λ a₀ → λ= (λ a₁ → ua (fundamental-thm A (Q a₀) (is-fib a₀) a₀ (ρ a₀) a₁))) </a>

  <a id="3583" class="Comment">--   corollary : ∀ {i} (A : Type i) → is-contr (fibrant-reflexive-rel)</a>
  <a id="3656" class="Comment">--   corollary A = has-level-in (id-rel , λ Q → ! (id-rel-unique Q))</a>

</pre></body></html>